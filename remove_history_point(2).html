<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
</style>
<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=icuMskyuD0MgX5Hq0h3gGCErFkYsPpac"></script>
<title>设置驾车路线途经点</title>
</head>
<body>
<div id='show_distance' style="display: none; width: 608px; height: 608px; background: #fff;"></div>
<div id="allmap" style="width: 608px; height: 608px; border-radius: 50%;"></div>
</body>
</html>
<script type="text/javascript">

// 百度地图API功能
var map = new BMap.Map("allmap");
map.centerAndZoom(new BMap.Point(116.404, 39.915), 14);
var top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_TOP_LEFT});// 左上角，添加比例尺
map.enableScrollWheelZoom(true);
map.addControl(top_left_control);   

var tileLayer = new BMap.TileLayer();
tileLayer.getTilesUrl = function(tileCoord, zoom) {
    var url = "http://192.168.1.155/static/img/wp.png";
    return url;
}


let newMapType = new BMap.MapType("新地图", tileLayer,{minZoom:1, maxZoom:40});
map.setMapType(newMapType);

map.setZoom(16);
var point_show_distance = 100 
var move_distance = 0
var point_collection_list = []
var last_cursor_point = false

// 获取两点间的距离
function getDistance(pointSource, pointTarget) {
	var pointA = new BMap.Point( pointSource.lng, pointSource.lat );  // 创建点坐标A
	var pointB = new BMap.Point( pointTarget.lng, pointTarget.lat );  // 创建点坐标B
	var distance = (this.map.getDistance(pointA,pointB)).toFixed(2);  //获取两点距离,保留小数点后两位
	return distance
}

var mapNumberUtil = {};

 
mapNumberUtil.rad = function(num){
	return num * (Math.PI/180);
}
mapNumberUtil.deg = function(num){
	return num * (180/Math.PI);
}

/**
* 根据一个经纬度及距离角度，算出另外一个经纬度
* @param {*} lng 经度 113.3960698
* @param {*} lat 纬度 22.941386
* @param {*} brng 方位角 45 ---- 正北方：000°或360° 正东方：090° 正南方：180° 正西方：270°
* @param {*} dist 90000距离(米)
*
*/
mapNumberUtil.getLonAndLat = function (lng,lat,brng,dist){
	//大地坐标系资料WGS-84 长半径a=6378137 短半径b=6356752.3142 扁率f=1/298.2572236
	var a=6378137;
	var b=6356752.3142;
	var f=1/298.257223563;

	var lon1 = lng*1;
	var lat1 = lat*1;
	var s = dist;
	var alpha1 = mapNumberUtil.rad(brng);
	var sinAlpha1 = Math.sin(alpha1);
	var cosAlpha1 = Math.cos(alpha1);

	var tanU1 = (1-f) * Math.tan(mapNumberUtil.rad(lat1));
	var cosU1 = 1 / Math.sqrt((1 + tanU1*tanU1)), sinU1 = tanU1*cosU1;
	var sigma1 = Math.atan2(tanU1, cosAlpha1);
	var sinAlpha = cosU1 * sinAlpha1;
	var cosSqAlpha = 1 - sinAlpha*sinAlpha;
	var uSq = cosSqAlpha * (a*a - b*b) / (b*b);
	var A = 1 + uSq/16384*(4096+uSq*(-768+uSq*(320-175*uSq)));
	var B = uSq/1024 * (256+uSq*(-128+uSq*(74-47*uSq)));

	var sigma = s / (b*A), sigmaP = 2*Math.PI;
	while (Math.abs(sigma-sigmaP) > 1e-12) {
	var cos2SigmaM = Math.cos(2*sigma1 + sigma);
	var sinSigma = Math.sin(sigma);
	var cosSigma = Math.cos(sigma);
	var deltaSigma = B*sinSigma*(cos2SigmaM+B/4*(cosSigma*(-1+2*cos2SigmaM*cos2SigmaM)-
	B/6*cos2SigmaM*(-3+4*sinSigma*sinSigma)*(-3+4*cos2SigmaM*cos2SigmaM)));
	sigmaP = sigma;
	sigma = s / (b*A) + deltaSigma;
	}

	var tmp = sinU1*sinSigma - cosU1*cosSigma*cosAlpha1;
	var lat2 = Math.atan2(sinU1*cosSigma + cosU1*sinSigma*cosAlpha1,
	(1-f)*Math.sqrt(sinAlpha*sinAlpha + tmp*tmp));
	var lambda = Math.atan2(sinSigma*sinAlpha1, cosU1*cosSigma - sinU1*sinSigma*cosAlpha1);
	var C = f/16*cosSqAlpha*(4+f*(4-3*cosSqAlpha));
	var L = lambda - (1-C) * f * sinAlpha *
	(sigma + C*sinSigma*(cos2SigmaM+C*cosSigma*(-1+2*cos2SigmaM*cos2SigmaM)));

	var revAz = Math.atan2(sinAlpha, -tmp); // final bearing

	var lngLatObj = {lng:lon1+mapNumberUtil.deg(L),lat:mapNumberUtil.deg(lat2)}
	return lngLatObj;
}

function draw_cursor_point(lng, lat){

	if(last_cursor_point){
		map.removeOverlay(last_cursor_point);
	}
	var cursor_point = mapNumberUtil.getLonAndLat(lng, lat, 45, 500);

	var points = []
  	points.push(new BMap.Point(cursor_point['lng'], cursor_point['lat']));

	var options = {
		size: 5,
		shape: BMAP_POINT_SHAPE_CIRCLE,
		color: 'red'
	}

	var pointCollection = new BMap.PointCollection(points, options);  // 初始化PointCollection

	map.addOverlay(pointCollection);  // 添加Overlay

	last_cursor_point = pointCollection

}

function updateTheLocation(lng, lat) {
	draw_cursor_point(lng, lat);
	var new_point = new BMap.Point(lng, lat);
	map.panTo(new_point);
}

function clear_point_collection(){
	if(point_collection_list < 1){
		return;
	}

	var point_cnt = point_collection_list.length;
	var pointSource = point_collection_list[point_cnt - 1];
	var pointTarget = point_collection_list[point_cnt - 2];

	var line_distance = getDistance(pointSource.point, pointTarget.point);

	move_distance += parseFloat(line_distance);

	document.getElementById('show_distance').innerHTML = (move_distance.toFixed(2)) + " 米" 

	if(move_distance > point_show_distance){
		map.removeOverlay(point_collection_list[0]['mark'])
		point_collection_list.shift()
	}
}
function drawTrack(track) {
    updateTheLocation(track['lng'], track['lat'])
    setTimeout(() => {
      var points = []
      points.push(new BMap.Point(track['lng'], track['lat']));

      var options = {
        size: 4,
        shape: BMAP_POINT_SHAPE_CIRCLE,
        color: '#000'
      }

      var pointCollection = new BMap.PointCollection(points, options);  // 初始化PointCollection

      map.addOverlay(pointCollection);  // 添加Overlay

      push_data = {
      	'mark': pointCollection,
      	'point': new BMap.Point(track['lng'], track['lat'])
      }
      point_collection_list.push(push_data)

      clear_point_collection()
    }, 500);
}


function drawRangeLine(){
	var centerPoint = map.getCenter()
	var range_100_Point = mapNumberUtil.getLonAndLat(centerPoint['lng'], centerPoint['lat'], 0,925);
	var range_200_Point = mapNumberUtil.getLonAndLat(centerPoint['lng'], centerPoint['lat'], 90, 200);
	var range_500_Point = mapNumberUtil.getLonAndLat(centerPoint['lng'], centerPoint['lat'], 180, 500);
	var range_1000_Point = mapNumberUtil.getLonAndLat(centerPoint['lng'], centerPoint['lat'], 270, 1000);

	console.log(range_100_Point, range_200_Point)

	map.addOverlay(new BMap.Polyline([
		centerPoint,
		new BMap.Point(range_100_Point['lng'], range_100_Point['lat'])
	], {strokeColor:"blue", strokeWeight:3, strokeOpacity:1}));

	map.addOverlay(new BMap.Polyline([
		centerPoint,
		new BMap.Point(range_200_Point['lng'], range_200_Point['lat'])
	], {strokeColor:"red", strokeWeight:3, strokeOpacity:1}));

	map.addOverlay(new BMap.Polyline([
		centerPoint,
		new BMap.Point(range_500_Point['lng'], range_500_Point['lat'])
	], {strokeColor:"yellow", strokeWeight:3, strokeOpacity:1}));

	map.addOverlay(new BMap.Polyline([
		centerPoint,
		new BMap.Point(range_1000_Point['lng'], range_1000_Point['lat'])
	], {strokeColor:"black", strokeWeight:3, strokeOpacity:1}));
}

drawRangeLine();

point_index = 0;

point_data = [
	{
		"lng": 116.382068,
		"lat": 39.913359,
		"of": "inner"
	}, {
		"lng": 116.381651,
		"lat": 39.913361,
		"of": "inner"
	}, {
		"lng": 116.381492,
		"lat": 39.913359,
		"of": "inner"
	}, {
		"lng": 116.381462,
		"lat": 39.913358,
		"of": "inner"
	}, {
		"lng": 116.381253,
		"lat": 39.913354,
		"of": "inner"
	}, {
		"lng": 116.381184,
		"lat": 39.913353,
		"of": "inner"
	}, {
		"lng": 116.381054,
		"lat": 39.913351,
		"of": "inner"
	}, {
		"lng": 116.380876,
		"lat": 39.913348,
		"of": "inner"
	}, {
		"lng": 116.380806,
		"lat": 39.913346,
		"of": "inner"
	}, {
		"lng": 116.380746,
		"lat": 39.913335,
		"of": "inner"
	}, {
		"lng": 116.380667,
		"lat": 39.913334,
		"of": "inner"
	}, {
		"lng": 116.380667,
		"lat": 39.913334,
		"of": "inner"
	}, {
		"lng": 116.380677,
		"lat": 39.913584,
		"of": "inner"
	}, {
		"lng": 116.380666,
		"lat": 39.914004,
		"of": "inner"
	}, {
		"lng": 116.380606,
		"lat": 39.914722,
		"of": "inner"
	}, {
		"lng": 116.380586,
		"lat": 39.914882,
		"of": "inner"
	}, {
		"lng": 116.380576,
		"lat": 39.915252,
		"of": "inner"
	}, {
		"lng": 116.380576,
		"lat": 39.915252,
		"of": "inner"
	}, {
		"lng": 116.380556,
		"lat": 39.915521,
		"of": "inner"
	}, {
		"lng": 116.380525,
		"lat": 39.915831,
		"of": "inner"
	}, {
		"lng": 116.380475,
		"lat": 39.917029,
		"of": "inner"
	}, {
		"lng": 116.380444,
		"lat": 39.917709,
		"of": "inner"
	}, {
		"lng": 116.380434,
		"lat": 39.918078,
		"of": "inner"
	}, {
		"lng": 116.380424,
		"lat": 39.918168,
		"of": "inner"
	}, {
		"lng": 116.380424,
		"lat": 39.918318,
		"of": "inner"
	}, {
		"lng": 116.380414,
		"lat": 39.918408,
		"of": "inner"
	}, {
		"lng": 116.380404,
		"lat": 39.918618,
		"of": "inner"
	}, {
		"lng": 116.380404,
		"lat": 39.918788,
		"of": "inner"
	}, {
		"lng": 116.380384,
		"lat": 39.919147,
		"of": "inner"
	}, {
		"lng": 116.380373,
		"lat": 39.919427,
		"of": "inner"
	}, {
		"lng": 116.380363,
		"lat": 39.919727,
		"of": "inner"
	}, {
		"lng": 116.380363,
		"lat": 39.919807,
		"of": "inner"
	}, {
		"lng": 116.380353,
		"lat": 39.919896,
		"of": "inner"
	}, {
		"lng": 116.380343,
		"lat": 39.920126,
		"of": "inner"
	}, {
		"lng": 116.380343,
		"lat": 39.920126,
		"of": "inner"
	}, {
		"lng": 116.380313,
		"lat": 39.920775,
		"of": "inner"
	}, {
		"lng": 116.380303,
		"lat": 39.920835,
		"of": "inner"
	}, {
		"lng": 116.380263,
		"lat": 39.921374,
		"of": "inner"
	}, {
		"lng": 116.380223,
		"lat": 39.921544,
		"of": "inner"
	}, {
		"lng": 116.380223,
		"lat": 39.921584,
		"of": "inner"
	}, {
		"lng": 116.380223,
		"lat": 39.921614,
		"of": "inner"
	}, {
		"lng": 116.380213,
		"lat": 39.921913,
		"of": "inner"
	}, {
		"lng": 116.380192,
		"lat": 39.922283,
		"of": "inner"
	}, {
		"lng": 116.380182,
		"lat": 39.922603,
		"of": "inner"
	}, {
		"lng": 116.380182,
		"lat": 39.922663,
		"of": "inner"
	}, {
		"lng": 116.380172,
		"lat": 39.922732,
		"of": "inner"
	}, {
		"lng": 116.380172,
		"lat": 39.922792,
		"of": "inner"
	}, {
		"lng": 116.380152,
		"lat": 39.923352,
		"of": "inner"
	}, {
		"lng": 116.380132,
		"lat": 39.924101,
		"of": "inner"
	}, {
		"lng": 116.380171,
		"lat": 39.924212,
		"of": "inner"
	}, {
		"lng": 116.380151,
		"lat": 39.924742,
		"of": "inner"
	}, {
		"lng": 116.380151,
		"lat": 39.924742,
		"of": "inner"
	}, {
		"lng": 116.380111,
		"lat": 39.925351,
		"of": "inner"
	}, {
		"lng": 116.380071,
		"lat": 39.92547,
		"of": "inner"
	}, {
		"lng": 116.380051,
		"lat": 39.92591,
		"of": "inner"
	}, {
		"lng": 116.380051,
		"lat": 39.92612,
		"of": "inner"
	}, {
		"lng": 116.380021,
		"lat": 39.926819,
		"of": "inner"
	}, {
		"lng": 116.380011,
		"lat": 39.926969,
		"of": "inner"
	}, {
		"lng": 116.379991,
		"lat": 39.927548,
		"of": "inner"
	}, {
		"lng": 116.379991,
		"lat": 39.927748,
		"of": "inner"
	}, {
		"lng": 116.379971,
		"lat": 39.928018,
		"of": "inner"
	}, {
		"lng": 116.380001,
		"lat": 39.928128,
		"of": "inner"
	}, {
		"lng": 116.38,
		"lat": 39.928508,
		"of": "inner"
	}, {
		"lng": 116.38,
		"lat": 39.928558,
		"of": "inner"
	}, {
		"lng": 116.37998,
		"lat": 39.928998,
		"of": "inner"
	}, {
		"lng": 116.37996,
		"lat": 39.930027,
		"of": "inner"
	}, {
		"lng": 116.37996,
		"lat": 39.930088,
		"of": "inner"
	}, {
		"lng": 116.37996,
		"lat": 39.930088,
		"of": "inner"
	}, {
		"lng": 116.37993,
		"lat": 39.930607,
		"of": "inner"
	}, {
		"lng": 116.37991,
		"lat": 39.930887,
		"of": "inner"
	}, {
		"lng": 116.3799,
		"lat": 39.931046,
		"of": "inner"
	}, {
		"lng": 116.3799,
		"lat": 39.931126,
		"of": "inner"
	}, {
		"lng": 116.37989,
		"lat": 39.931486,
		"of": "inner"
	}, {
		"lng": 116.37987,
		"lat": 39.931796,
		"of": "inner"
	}, {
		"lng": 116.37986,
		"lat": 39.932245,
		"of": "inner"
	}, {
		"lng": 116.37984,
		"lat": 39.932495,
		"of": "inner"
	}, {
		"lng": 116.37984,
		"lat": 39.932645,
		"of": "inner"
	}, {
		"lng": 116.3798,
		"lat": 39.933584,
		"of": "inner"
	}, {
		"lng": 116.379751,
		"lat": 39.934463,
		"of": "inner"
	}, {
		"lng": 116.379741,
		"lat": 39.934623,
		"of": "inner"
	}, {
		"lng": 116.379731,
		"lat": 39.935013,
		"of": "inner"
	}, {
		"lng": 116.379721,
		"lat": 39.935313,
		"of": "inner"
	}, {
		"lng": 116.379681,
		"lat": 39.935882,
		"of": "inner"
	}, {
		"lng": 116.379681,
		"lat": 39.936002,
		"of": "inner"
	}, {
		"lng": 116.379611,
		"lat": 39.937411,
		"of": "inner"
	}, {
		"lng": 116.379552,
		"lat": 39.93841,
		"of": "inner"
	}, {
		"lng": 116.379542,
		"lat": 39.93869,
		"of": "inner"
	}, {
		"lng": 116.379532,
		"lat": 39.938799,
		"of": "inner"
	}, {
		"lng": 116.379423,
		"lat": 39.938788,
		"of": "inner"
	}, {
		"lng": 116.379423,
		"lat": 39.938788,
		"of": "inner"
	}, {
		"lng": 116.379294,
		"lat": 39.938785,
		"of": "inner"
	}, {
		"lng": 116.379154,
		"lat": 39.938783,
		"of": "inner"
	}, {
		"lng": 116.378777,
		"lat": 39.938746,
		"of": "inner"
	},
	{
		"lng": 116.378777,
		"lat": 39.938746,
		"of": "inner"
	}, {
		"lng": 116.378588,
		"lat": 39.938732,
		"of": "inner"
	}, {
		"lng": 116.375984,
		"lat": 39.938534,
		"of": "inner"
	}, {
		"lng": 116.374573,
		"lat": 39.938439,
		"of": "inner"
	}, {
		"lng": 116.374573,
		"lat": 39.938439,
		"of": "inner"
	}, {
		"lng": 116.374613,
		"lat": 39.938699,
		"of": "inner"
	}, {
		"lng": 116.374653,
		"lat": 39.93939,
		"of": "inner"
	}, {
		"lng": 116.374703,
		"lat": 39.939911,
		"of": "inner"
	}, {
		"lng": 116.374733,
		"lat": 39.940222,
		"of": "inner"
	}, {
		"lng": 116.374792,
		"lat": 39.940773,
		"of": "inner"
	}, {
		"lng": 116.374832,
		"lat": 39.941474,
		"of": "inner"
	}, {
		"lng": 116.374842,
		"lat": 39.941714,
		"of": "inner"
	}, {
		"lng": 116.374862,
		"lat": 39.941944,
		"of": "inner"
	}, {
		"lng": 116.374972,
		"lat": 39.942806,
		"of": "inner"
	}, {
		"lng": 116.374982,
		"lat": 39.942926,
		"of": "inner"
	}, {
		"lng": 116.374992,
		"lat": 39.943087,
		"of": "inner"
	}, {
		"lng": 116.375032,
		"lat": 39.943607,
		"of": "inner"
	}, {
		"lng": 116.375042,
		"lat": 39.944268,
		"of": "inner"
	}, {
		"lng": 116.375042,
		"lat": 39.944388,
		"of": "inner"
	}, {
		"lng": 116.375042,
		"lat": 39.944638,
		"of": "inner"
	}, {
		"lng": 116.375052,
		"lat": 39.945728,
		"of": "inner"
	}, {
		"lng": 116.375102,
		"lat": 39.946439,
		"of": "inner"
	}, {
		"lng": 116.375093,
		"lat": 39.946589,
		"of": "inner"
	}, {
		"lng": 116.375093,
		"lat": 39.946589,
		"of": "inner"
	}, {
		"lng": 116.375123,
		"lat": 39.94679,
		"of": "inner"
	}, {
		"lng": 116.375232,
		"lat": 39.947112,
		"of": "inner"
	}, {
		"lng": 116.375491,
		"lat": 39.947656,
		"of": "inner"
	}, {
		"lng": 116.37559,
		"lat": 39.947938,
		"of": "inner"
	}, {
		"lng": 116.37573,
		"lat": 39.948531,
		"of": "inner"
	}, {
		"lng": 116.37578,
		"lat": 39.948812,
		"of": "inner"
	}, {
		"lng": 116.37579,
		"lat": 39.949062,
		"of": "inner"
	}, {
		"lng": 116.37578,
		"lat": 39.949542,
		"of": "inner"
	}, {
		"lng": 116.3758,
		"lat": 39.949843,
		"of": "inner"
	}, {
		"lng": 116.3759,
		"lat": 39.950214,
		"of": "inner"
	}, {
		"lng": 116.3759,
		"lat": 39.950214,
		"of": "inner"
	}, {
		"lng": 116.37592,
		"lat": 39.950265,
		"of": "inner"
	}, {
		"lng": 116.375999,
		"lat": 39.950556,
		"of": "inner"
	}, {
		"lng": 116.376049,
		"lat": 39.950897,
		"of": "inner"
	}, {
		"lng": 116.376069,
		"lat": 39.951058,
		"of": "inner"
	}, {
		"lng": 116.376089,
		"lat": 39.951498,
		"of": "inner"
	}, {
		"lng": 116.37605,
		"lat": 39.951928,
		"of": "inner"
	}, {
		"lng": 116.375971,
		"lat": 39.952326,
		"of": "inner"
	}, {
		"lng": 116.375961,
		"lat": 39.952466,
		"of": "inner"
	}, {
		"lng": 116.375882,
		"lat": 39.952575,
		"of": "inner"
	}, {
		"lng": 116.375644,
		"lat": 39.953321,
		"of": "inner"
	}, {
		"lng": 116.375505,
		"lat": 39.953698,
		"of": "inner"
	}, {
		"lng": 116.375505,
		"lat": 39.953698,
		"of": "inner"
	}, {
		"lng": 116.376876,
		"lat": 39.954103,
		"of": "inner"
	}, {
		"lng": 116.376936,
		"lat": 39.954115,
		"of": "inner"
	}, {
		"lng": 116.376877,
		"lat": 39.954393,
		"of": "inner"
	}, {
		"lng": 116.376807,
		"lat": 39.954512,
		"of": "inner"
	}, {
		"lng": 116.376807,
		"lat": 39.954512,
		"of": "inner"
	}, {
		"lng": 116.376002,
		"lat": 39.954257,
		"of": "inner"
	}, {
		"lng": 116.375455,
		"lat": 39.954047,
		"of": "inner"
	}, {
		"lng": 116.374988,
		"lat": 39.953869,
		"of": "inner"
	}, {
		"lng": 116.37467,
		"lat": 39.953743,
		"of": "inner"
	}, {
		"lng": 116.37463,
		"lat": 39.953722,
		"of": "inner"
	}, {
		"lng": 116.373368,
		"lat": 39.953179,
		"of": "inner"
	}, {
		"lng": 116.373139,
		"lat": 39.953075,
		"of": "inner"
	}, {
		"lng": 116.372861,
		"lat": 39.95295,
		"of": "inner"
	}, {
		"lng": 116.372195,
		"lat": 39.952668,
		"of": "inner"
	}, {
		"lng": 116.372165,
		"lat": 39.952657,
		"of": "inner"
	}, {
		"lng": 116.372165,
		"lat": 39.952657,
		"of": "inner"
	}, {
		"lng": 116.372056,
		"lat": 39.952545,
		"of": "inner"
	}, {
		"lng": 116.371936,
		"lat": 39.952413,
		"of": "inner"
	}, {
		"lng": 116.371936,
		"lat": 39.952413,
		"of": "inner"
	}, {
		"lng": 116.371499,
		"lat": 39.952245,
		"of": "inner"
	}, {
		"lng": 116.370216,
		"lat": 39.951882,
		"of": "inner"
	}, {
		"lng": 116.370216,
		"lat": 39.951882,
		"of": "inner"
	}, {
		"lng": 116.36959,
		"lat": 39.951692,
		"of": "inner"
	}, {
		"lng": 116.367193,
		"lat": 39.950961,
		"of": "inner"
	}, {
		"lng": 116.366546,
		"lat": 39.950761,
		"of": "inner"
	}, {
		"lng": 116.366258,
		"lat": 39.950666,
		"of": "inner"
	}, {
		"lng": 116.366089,
		"lat": 39.950614,
		"of": "inner"
	}, {
		"lng": 116.36588,
		"lat": 39.95056,
		"of": "inner"
	}, {
		"lng": 116.365601,
		"lat": 39.950476,
		"of": "inner"
	}, {
		"lng": 116.363512,
		"lat": 39.949885,
		"of": "inner"
	}, {
		"lng": 116.363094,
		"lat": 39.949769,
		"of": "inner"
	}, {
		"lng": 116.362825,
		"lat": 39.949655,
		"of": "inner"
	}, {
		"lng": 116.362456,
		"lat": 39.9494,
		"of": "inner"
	}, {
		"lng": 116.362217,
		"lat": 39.949177,
		"of": "inner"
	}, {
		"lng": 116.361998,
		"lat": 39.948854,
		"of": "inner"
	}, {
		"lng": 116.361948,
		"lat": 39.948733,
		"of": "inner"
	}, {
		"lng": 116.361878,
		"lat": 39.948502,
		"of": "inner"
	}, {
		"lng": 116.361928,
		"lat": 39.947723,
		"of": "inner"
	}, {
		"lng": 116.361997,
		"lat": 39.946233,
		"of": "inner"
	}, {
		"lng": 116.361997,
		"lat": 39.946233,
		"of": "inner"
	}, {
		"lng": 116.362006,
		"lat": 39.945403,
		"of": "inner"
	},
	{
		"lng": 116.362006,
		"lat": 39.945403,
		"of": "inner"
	}, {
		"lng": 116.362055,
		"lat": 39.943664,
		"of": "inner"
	}, {
		"lng": 116.362055,
		"lat": 39.943664,
		"of": "inner"
	}, {
		"lng": 116.362124,
		"lat": 39.942574,
		"of": "inner"
	}, {
		"lng": 116.362164,
		"lat": 39.941835,
		"of": "inner"
	}, {
		"lng": 116.362204,
		"lat": 39.941065,
		"of": "inner"
	}, {
		"lng": 116.362204,
		"lat": 39.941065,
		"of": "inner"
	}, {
		"lng": 116.362323,
		"lat": 39.938667,
		"of": "inner"
	}, {
		"lng": 116.362342,
		"lat": 39.938207,
		"of": "inner"
	}, {
		"lng": 116.362362,
		"lat": 39.937667,
		"of": "inner"
	}, {
		"lng": 116.362492,
		"lat": 39.935029,
		"of": "inner"
	}, {
		"lng": 116.362492,
		"lat": 39.934959,
		"of": "inner"
	}, {
		"lng": 116.362502,
		"lat": 39.934539,
		"of": "inner"
	}, {
		"lng": 116.362541,
		"lat": 39.93334,
		"of": "inner"
	}, {
		"lng": 116.362541,
		"lat": 39.93334,
		"of": "inner"
	}, {
		"lng": 116.362611,
		"lat": 39.931981,
		"of": "inner"
	}, {
		"lng": 116.362621,
		"lat": 39.931661,
		"of": "inner"
	}, {
		"lng": 116.362641,
		"lat": 39.931151,
		"of": "inner"
	}, {
		"lng": 116.362671,
		"lat": 39.930582,
		"of": "inner"
	}, {
		"lng": 116.362782,
		"lat": 39.928383,
		"of": "inner"
	}, {
		"lng": 116.362812,
		"lat": 39.927914,
		"of": "inner"
	}, {
		"lng": 116.362812,
		"lat": 39.927914,
		"of": "inner"
	}, {
		"lng": 116.362683,
		"lat": 39.927102,
		"of": "inner"
	}, {
		"lng": 116.362683,
		"lat": 39.927102,
		"of": "inner"
	}, {
		"lng": 116.362693,
		"lat": 39.926902,
		"of": "inner"
	}, {
		"lng": 116.362753,
		"lat": 39.925683,
		"of": "inner"
	}, {
		"lng": 116.362793,
		"lat": 39.924514,
		"of": "inner"
	}, {
		"lng": 116.362813,
		"lat": 39.924255,
		"of": "inner"
	}, {
		"lng": 116.362823,
		"lat": 39.924205,
		"of": "inner"
	}, {
		"lng": 116.362833,
		"lat": 39.924135,
		"of": "inner"
	}, {
		"lng": 116.362873,
		"lat": 39.923666,
		"of": "inner"
	}, {
		"lng": 116.362924,
		"lat": 39.922436,
		"of": "inner"
	}, {
		"lng": 116.362924,
		"lat": 39.922396,
		"of": "inner"
	}, {
		"lng": 116.362954,
		"lat": 39.921807,
		"of": "inner"
	}, {
		"lng": 116.362964,
		"lat": 39.921547,
		"of": "inner"
	}, {
		"lng": 116.362985,
		"lat": 39.921048,
		"of": "inner"
	}, {
		"lng": 116.363005,
		"lat": 39.920648,
		"of": "inner"
	}, {
		"lng": 116.363005,
		"lat": 39.920648,
		"of": "inner"
	}, {
		"lng": 116.363025,
		"lat": 39.920158,
		"of": "inner"
	}, {
		"lng": 116.363045,
		"lat": 39.919699,
		"of": "inner"
	}, {
		"lng": 116.363045,
		"lat": 39.919609,
		"of": "inner"
	}, {
		"lng": 116.363443,
		"lat": 39.919624,
		"of": "inner"
	}, {
		"lng": 116.363593,
		"lat": 39.919636,
		"of": "inner"
	}, {
		"lng": 116.363593,
		"lat": 39.919636,
		"of": "inner"
	}, {
		"lng": 116.363762,
		"lat": 39.919649,
		"of": "inner"
	}, {
		"lng": 116.36409,
		"lat": 39.919664,
		"of": "inner"
	}, {
		"lng": 116.365294,
		"lat": 39.919702,
		"of": "inner"
	}, {
		"lng": 116.366209,
		"lat": 39.919726,
		"of": "inner"
	}, {
		"lng": 116.366428,
		"lat": 39.919739,
		"of": "inner"
	}, {
		"lng": 116.366547,
		"lat": 39.919741,
		"of": "inner"
	}, {
		"lng": 116.366786,
		"lat": 39.919765,
		"of": "inner"
	}, {
		"lng": 116.367581,
		"lat": 39.919798,
		"of": "inner"
	}, {
		"lng": 116.368387,
		"lat": 39.919841,
		"of": "inner"
	}, {
		"lng": 116.369659,
		"lat": 39.919863,
		"of": "inner"
	}, {
		"lng": 116.369978,
		"lat": 39.919878,
		"of": "inner"
	}, {
		"lng": 116.370127,
		"lat": 39.919881,
		"of": "inner"
	}, {
		"lng": 116.370127,
		"lat": 39.919881,
		"of": "inner"
	}, {
		"lng": 116.370475,
		"lat": 39.919887,
		"of": "inner"
	}, {
		"lng": 116.372194,
		"lat": 39.919967,
		"of": "inner"
	}, {
		"lng": 116.372333,
		"lat": 39.91998,
		"of": "inner"
	}, {
		"lng": 116.372452,
		"lat": 39.919982,
		"of": "inner"
	}, {
		"lng": 116.373963,
		"lat": 39.920059,
		"of": "inner"
	}, {
		"lng": 116.374231,
		"lat": 39.920074,
		"of": "inner"
	}, {
		"lng": 116.374311,
		"lat": 39.920076,
		"of": "inner"
	}, {
		"lng": 116.375195,
		"lat": 39.920122,
		"of": "inner"
	}, {
		"lng": 116.375384,
		"lat": 39.920135,
		"of": "inner"
	}, {
		"lng": 116.375613,
		"lat": 39.92017,
		"of": "inner"
	}, {
		"lng": 116.378653,
		"lat": 39.920575,
		"of": "inner"
	}, {
		"lng": 116.379379,
		"lat": 39.920669,
		"of": "inner"
	}, {
		"lng": 116.379697,
		"lat": 39.920704,
		"of": "inner"
	}, {
		"lng": 116.379975,
		"lat": 39.920739,
		"of": "inner"
	}, {
		"lng": 116.380243,
		"lat": 39.920764,
		"of": "inner"
	}, {
		"lng": 116.380313,
		"lat": 39.920775,
		"of": "inner"
	}, {
		"lng": 116.380442,
		"lat": 39.920778,
		"of": "inner"
	}, {
		"lng": 116.381098,
		"lat": 39.92078,
		"of": "inner"
	}, {
		"lng": 116.381277,
		"lat": 39.920763,
		"of": "inner"
	}, {
		"lng": 116.381456,
		"lat": 39.920766,
		"of": "inner"
	}, {
		"lng": 116.381734,
		"lat": 39.920761,
		"of": "inner"
	}, {
		"lng": 116.381973,
		"lat": 39.920765,
		"of": "inner"
	}, {
		"lng": 116.382112,
		"lat": 39.920758,
		"of": "inner"
	}, {
		"lng": 116.382301,
		"lat": 39.920751,
		"of": "inner"
	}, {
		"lng": 116.383205,
		"lat": 39.920707,
		"of": "inner"
	}, {
		"lng": 116.38408,
		"lat": 39.920662,
		"of": "inner"
	}, {
		"lng": 116.384219,
		"lat": 39.920694,
		"of": "inner"
	}, {
		"lng": 116.384219,
		"lat": 39.920694,
		"of": "inner"
	}, {
		"lng": 116.38422,
		"lat": 39.920344,
		"of": "inner"
	}, {
		"lng": 116.38424,
		"lat": 39.919664,
		"of": "inner"
	}, {
		"lng": 116.38425,
		"lat": 39.919435,
		"of": "inner"
	}, {
		"lng": 116.384261,
		"lat": 39.918825,
		"of": "inner"
	}, {
		"lng": 116.384271,
		"lat": 39.918465,
		"of": "inner"
	}, {
		"lng": 116.384271,
		"lat": 39.918465,
		"of": "inner"
	}, {
		"lng": 116.384142,
		"lat": 39.918463,
		"of": "inner"
	}, {
		"lng": 116.383625,
		"lat": 39.918434,
		"of": "inner"
	}, {
		"lng": 116.383376,
		"lat": 39.91844,
		"of": "inner"
	}, {
		"lng": 116.383028,
		"lat": 39.918434,
		"of": "inner"
	}, {
		"lng": 116.383028,
		"lat": 39.918434,
		"of": "inner"
	}, {
		"lng": 116.382989,
		"lat": 39.918073,
		"of": "inner"
	}, {
		"lng": 116.382959,
		"lat": 39.917773,
		"of": "inner"
	}, {
		"lng": 116.3829,
		"lat": 39.917642,
		"of": "inner"
	}, {
		"lng": 116.38289,
		"lat": 39.917312,
		"of": "inner"
	}, {
		"lng": 116.3829,
		"lat": 39.917222,
		"of": "inner"
	}, {
		"lng": 116.38296,
		"lat": 39.917133,
		"of": "inner"
	}, {
		"lng": 116.38295,
		"lat": 39.917003,
		"of": "inner"
	}, {
		"lng": 116.38293,
		"lat": 39.916713,
		"of": "inner"
	}, {
		"lng": 116.382861,
		"lat": 39.916032,
		"of": "inner"
	}, {
		"lng": 116.382851,
		"lat": 39.915902,
		"of": "inner"
	}, {
		"lng": 116.382782,
		"lat": 39.915651,
		"of": "inner"
	}, {
		"lng": 116.382752,
		"lat": 39.91547,
		"of": "inner"
	}, {
		"lng": 116.382742,
		"lat": 39.91537,
		"of": "inner"
	}, {
		"lng": 116.382743,
		"lat": 39.91511,
		"of": "inner"
	}, {
		"lng": 116.382743,
		"lat": 39.91505,
		"of": "inner"
	}, {
		"lng": 116.382744,
		"lat": 39.91407,
		"of": "inner"
	}, {
		"lng": 116.382744,
		"lat": 39.91376,
		"of": "inner"
	}, {
		"lng": 116.382744,
		"lat": 39.91354,
		"of": "inner"
	}, {
		"lng": 116.382744,
		"lat": 39.91354,
		"of": "inner"
	}, {
		"lng": 116.382684,
		"lat": 39.913469,
		"of": "inner"
	}, {
		"lng": 116.382575,
		"lat": 39.913448,
		"of": "inner"
	}, {
		"lng": 116.382327,
		"lat": 39.913363,
		"of": "inner"
	}, {
		"lng": 116.382327,
		"lat": 39.913363,
		"of": "inner"
	}, {
		"lng": 116.382297,
		"lat": 39.913363,
		"of": "inner"
	}, {
		"lng": 116.382267,
		"lat": 39.913362,
		"of": "inner"
	}, {
		"lng": 116.382217,
		"lat": 39.913361,
		"of": "inner"
	}
];
// point_data_len = point_data.length

// draw_point_task = setInterval(function(){
// 	drawTrack(point_data[point_index])

// 	point_index++;

// 	if(point_index >= point_data_len){
// 		// clearInterval(draw_point_task)
// 		point_index = 0;
// 	}
// }, 200)

</script>
